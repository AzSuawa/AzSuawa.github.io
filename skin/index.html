<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>上传皮肤到服务器 - 素素の生存服(p≧w≦q)</title>
    <meta name="description" content="上传皮肤到服务器 - 素素の生存服、azsu.top、小小素QQ机器人">
    <meta name="theme-color" content="#A1BDFF">
    <link rel="stylesheet" href="/css/all.min.css">
    <link rel="stylesheet" href="/css/style.css">
    <link rel="icon" href="/images/favicon.ico">
    <style>.skin-upload-container{max-width:500px;margin:0 auto}.skin-drop-area{border:2px dashed #6c757d;border-radius:6px;padding:30px;text-align:center;margin-bottom:20px;transition:all .3s;background-color:#f8f9fa}.skin-drop-area.highlight{border-color:#28a745;background-color:#e8f5e9}.skin-btn{background-color:var(--primary-color);color:white;padding:10px 20px;border:none;border-radius:4px;cursor:pointer;font-size:16px;margin:10px 5px;transition:background-color .3s}.skin-btn:hover{background-color:#8CAEFF}.skin-progress-container{margin-top:20px;display:none}.skin-progress{width:100%;height:20px;border-radius:4px}.skin-file-list{margin-top:20px;max-height:300px;overflow-y:auto}.skin-file-item{display:flex;justify-content:space-between;padding:10px;border-bottom:1px solid #eee;align-items:center}.skin-file-info{display:flex;align-items:center}.skin-file-icon{margin-right:10px;color:#6c757d}.skin-file-status{font-weight:bold}.skin-status-pending{color:#ffc107}.skin-status-success{color:#28a745}.skin-status-error{color:#dc3545}.skin-form-group{margin-bottom:15px}.skin-form-group label{display:block;margin-bottom:5px;font-weight:bold}.skin-form-group input[type="text"]{width:calc(100% - 2px);padding:10px;border:1px solid #ced4da;border-radius:4px;font-size:14px;box-sizing:border-box}.skin-file-size-limit{color:#6c757d;font-size:14px;margin-top:5px}.skin-preview-link{color:#007bff;text-decoration:none;margin-left:10px}.skin-preview-link:hover{text-decoration:underline}#fileInput{display:none}.captcha-overlay{position:fixed;top:0;left:0;width:100%;height:100%;background-color:rgba(0,0,0,.5);display:none;z-index:999}.captcha-card{background:var(--card-bg);border-radius:8px;box-shadow:0 4px 20px rgba(0,0,0,.15);width:100%;max-width:380px;overflow:hidden;display:none;position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);z-index:1000}.captcha-card-header{padding:16px 20px;border-bottom:1px solid var(--border-color);position:relative}.captcha-card-title{font-size:18px;font-weight:bold;margin:0 0 6px 0;color:var(--text-color)}.captcha-card-subtitle{font-size:14px;color:var(--text-color);margin:0;text-align:left}.captcha-cueword{font-weight:bold;color:var(--primary-color)}.captcha-verification-container{padding:8px 16px 8px}.captcha-image-wrapper{width:100%;margin:8px 0 12px;position:relative}.captcha-image-container{position:relative;width:100%;padding-top:100%;overflow:hidden;border:2px solid var(--border-color);border-radius:4px;background-color:#f9f9f9}.captcha-image-container img{position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover}.captcha-grid-overlay{position:absolute;top:0;left:0;width:100%;height:100%;display:grid;grid-template-columns:repeat(4,1fr);grid-template-rows:repeat(4,1fr)}.captcha-grid-cell{border:2px solid rgba(0,0,0,.3);transition:all .2s;cursor:pointer;box-sizing:border-box}.captcha-grid-cell:hover{background-color:var(--hover-bg)}.captcha-grid-cell.selected{background-color:rgba(161,189,255,.4);border-color:var(--primary-color)}.captcha-card-footer{display:flex;justify-content:space-between;align-items:center;padding:12px 20px;border-top:1px solid var(--border-color)}.captcha-footer-text{font-size:14px;color:#999}.captcha-btn{background-color:var(--primary-color);color:white;border:none;border-radius:4px;padding:6px 14px;font-size:14px;cursor:pointer;transition:background-color .2s}.captcha-btn:hover{background-color:var(--hover-blue)}.captcha-btn:disabled{background-color:#ccc;cursor:not-allowed}.captcha-btn-cancel{background-color:#f1f1f1;color:#666;margin-right:8px}.captcha-btn-cancel:hover{background-color:#e5e5e5}.captcha-status-message{font-size:12px;color:#666;margin-top:8px;text-align:center}.captcha-loading{opacity:.6;pointer-events:none}.captcha-success-message{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background-color:rgba(0,0,0,.7);color:white;padding:16px 24px;border-radius:4px;font-weight:bold;display:none;z-index:1001}.captcha-error-message{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background-color:rgba(0,0,0,.7);color:white;padding:16px 24px;border-radius:4px;font-weight:bold;display:none;z-index:1001;max-width:300px;text-align:center}.captcha-close-btn{position:absolute;top:12px;right:12px;background:none;border:none;font-size:20px;cursor:pointer;color:#999}.captcha-close-btn:hover{color:#333}.card{display:block!important}</style>
</head>
<body>
    <div id="header">
        <button id="menu-btn"><i class="fas fa-bars"></i></button>
        <div id="title">素素の生存服</div>
    </div>
    
    <div id="sidebar"></div>
    
    <div id="content">
        <div class="card active">
            <h1>上传皮肤到服务器</h1>
            <div class="command-section skin-upload-container">
                <div class="skin-form-group">
                    <label for="playerId">玩家ID:</label>
                    <input type="text" id="playerId" placeholder="请输入你的游戏名" required>
                </div>
                <div class="skin-drop-area" id="dropArea">
                    <p>可拖放文件到此处</p>
                    <button class="skin-btn" id="selectBtn">选择文件</button>
                    <input type="file" id="fileInput" accept="image/png">
                    <div class="skin-file-size-limit">仅支持原版皮肤(PNG,64×64)</div>
                </div>
                <div class="skin-progress-container" id="progressContainer">
                    <p id="statusText">准备上传...</p>
                    <progress class="skin-progress" id="uploadProgress" value="0" max="100"></progress>
                </div>
                <div class="skin-file-list" id="fileList"></div>
            </div>
        </div>
    </div>

    <div class="captcha-overlay" id="captchaOverlay"></div>
    <div class="captcha-card" id="captchaCard">
        <div class="captcha-card-header">
            <h2 class="captcha-card-title">请选择所有包含<span id="cueword" class="captcha-cueword">加载中</span>的内容</h2>
            <button class="captcha-close-btn" id="captchaCloseBtn">×</button>
        </div>
        <div class="captcha-verification-container">
            <div class="captcha-image-wrapper">
                <div class="captcha-image-container">
                    <img id="captchaImage" alt="验证图片" style="display:none">
                    <div class="captcha-grid-overlay" id="captchaGridOverlay"></div>
                    <div class="captcha-center-message" id="captchaCenterMessage">正在初始化...</div>
                </div>
            </div>
        </div>
        <div class="captcha-card-footer">
            <span class="captcha-footer-text">By 阿素本素</span>
            <div>
                <button class="captcha-btn captcha-btn-cancel" id="captchaCancelBtn">取消</button>
                <button class="captcha-btn" id="captchaSubmitBtn" disabled>继续</button>
            </div>
        </div>
    </div>

    <div class="captcha-success-message" id="captchaSuccessMessage">验证成功！</div>
    <div class="captcha-error-message" id="captchaErrorMessage"><div id="captchaErrorText"></div></div>

    <script src="/js/main.js"></script>
    <script>!function(){var e,t,n,c,a,i,o,r,d,l,s,u,p,m,f,h,g,v,b,y,w,C,S,x,k,E,T,A,I,O,R,L,D,P,M,F,B,U,N,H,j,q,z,W,V,$,G,X,K,J,Q,Z,ee,te,ne,ce,ae,ie,oe,re,de,le,se,ue,pe,me,fe,he,ge,ve,be,ye,we,Ce,Se,xe,ke,Ee,Te,Ae,Ie,Oe,Re,Le,De,Pe,Me,Fe,Be,Ue,Ne,He,je,qe,ze,We,Ve,$e,Ge,Xe,Ke,Je,Qe,Ze,et,tt,nt,ct,at,it,ot,rt,dt,lt,st,ut,pt,mt,ft,ht,gt,vt,bt,yt,wt,Ct,St,xt,kt,Et,Tt,At,It,Ot,Rt,Lt,Dt,Pt,Mt,Ft,Bt,Ut,Nt,Ht,jt,qt,zt,Wt,Vt,$t,Gt,Xt,Kt,Jt,Qt,Zt,ei,ti,ni,ci,ai,ii,oi,ri,di,li,si,ui,pi,mi,fi,hi,gi,vi,bi,yi,wi,Ci,Si,xi,ki,Ei,Ti,Ai,Ii,Oi,Ri,Li,Di,Pi,Mi,Fi,Bi,Ui,Ni,Hi,ji,qi,zi,Wi,Vi,$i,Gi,Xi,Ki,Ji,Qi,Zi,en,tn,nn,cn,an,in,on,rn,dn,ln,sn,un,pn,mn,fn,hn,gn,vn,bn,yn,wn,Cn,Sn,xn,kn,En,Tn,An,In,On,Rn,Ln,Dn,Pn,Mn,Fn,Bn,Un,Nn,Hn,jn,qn,zn,Wn,Vn,$n,Gn,Xn,Kn,Jn,Qn,Zn,ec,tc,nc,cc,ac,ic,oc,rc,dc,lc,sc,uc,pc,mc,fc,hc,gc,vc,bc,yc,wc,Cc,Sc,xc,kc,Ec,Tc,Ac,Ic,Oc,Rc,Lc,Dc,Pc,Mc,Fc,Bc,Uc,Nc,Hc,jc,qc,zc,Wc,Vc,$c,Gc,Xc,Kc,Jc,Qc,Zc,ea,ta,na,ca,aa,ia,oa,ra,da,la,sa,ua,pa,ma,fa,ha,ga,va,ba,ya,wa,Ca,Sa,xa,ka,Ea,Ta,Aa,Ia,Oa,Ra,La,Da,Pa,Ma,Fa,Ba,Ua,Na,Ha,ja,qa,za,Wa,Va,$a,Ga,Xa,Ka,Ja,Qa,Za,ei,ti,ni,ci,ai,ii,oi,ri,di,li,si,ui,pi,mi,fi,hi,gi,vi,bi,yi,wi,Ci,Si,xi,ki,Ei,Ti,Ai,Ii,Oi,Ri,Li,Di,Pi,Mi,Fi,Bi,Ui,Ni,Hi,ji,qi,zi,Wi,Vi,$i,Gi,Xi,Ki,Ji,Qi,Zi,eo,to,no,co,ao,io,oo,ro,do,lo,so,uo,po,mo,fo,ho,go,vo,bo,yo,wo,Co,So,xo,ko,Eo,To,Ao,Io,Oo,Ro,Lo,Do,Po,Mo,Fo,Bo,Uo,No,Ho,jo,qo,zo,Wo,Vo,$o,Go,Xo,Ko,Jo,Qo,Zo,er,tr,nr,cr,ar,ir,or,rr,dr,lr,sr,ur,pr,mr,fr,hr,gr,vr,br,yr,wr,Cr,Sr,xr,kr,Er,Tr,Ar,Ir,Or,Rr,Lr,Dr,Pr,Mr,Fr,Br,Ur,Nr,Hr,jr,qr,zr,Wr,Vr,$r,Gr,Xr,Kr,Jr,Qr,Zr,ed,td,nd,cd,ad,id,od,rd,dd,ld,sd,ud,pd,md,fd,hd,gd,vd,bd,yd,wd,Cd,Sd,xd,kd,Ed,Td,Ad,Id,Od,Rd,Ld,Dd,Pd,Md,Fd,Bd,Ud,Nd,Hd,jd,qd,zd,Wd,Vd,$d,Gd,Xd,Kd,Jd,Qd,Zd,el,tl,nl,cl,al,il,ol,rl,dl,ll,sl,ul,pl,ml,fl,hl,gl,vl,bl,yl,wl,Cl,Sl,xl,kl,El,Tl,Al,Il,Ol,Rl,Ll,Dl,Pl,Ml,Fl,Bl,Ul,Nl,Hl,jl,ql,zl,Wl,Vl,$l,Gl,Xl,Kl,Jl,Ql,Zl,es,ts,ns,cs,as,is,os,rs,ds,ls,ss,us,ps,ms,fs,hs,gs,vs,bs,ys,ws,Cs,Ss,xs,ks,Es,Ts,As,Is,Os,Rs,Ls,Ds,Ps,Ms,Fs,Bs,Us,Ns,Hs,js,qs,zs,Ws,Vs,$s,Gs,Xs,Ks,Js,Qs,Zs,eu,tu,nu,cu,au,iu,ou,ru,du,lu,su,uu,pu,mu,fu,hu,gu,vu,bu,yu,wu,Cu,Su,xu,ku,Eu,Tu,Au,Iu,Ou,Ru,Lu,Du,Pu,Mu,Fu,Bu,Uu,Nu,Hu,ju,qu,zu,Wu,Vu,$u,Gu,Xu,Ku,Ju,Qu,Zu,ep,tp,np,cp,ap,ip,op,rp,dp,lp,sp,up,pp,mp,fp,hp,gp,vp,bp,yp,wp,Cp,Sp,xp,kp,Ep,Tp,Ap,Ip,Op,Rp,Lp,Dp,Pp,Mp,Fp,Bp,Up,Np,Hp,jp,qp,zp,Wp,Vp,$p,Gp,Xp,Kp,Jp,Qp,Zp,em,tm,nm,cm,am,im,om,rm,dm,lm,sm,um,pm,mm,fm,hm,gm,vm,bm,ym,wm,Cm,Sm,xm,km,Em,Tm,Am,Im,Om,Rm,Lm,Dm,Pm,Mm,Fm,Bm,Um,Nm,Hm,jm,qm,zm,Wm,Vm,$m,Gm,Xm,Km,Jm,Qm,Zm,ef,tf,nf,cf,af,if,of,rf,df,lf,sf,uf,pf,mf,ff,hf,gf,vf,bf,yf,wf,Cf,Sf,xf,kf,Ef,Tf,Af,If,Of,Rf,Lf,Df,Pf,Mf,Ff,Bf,Uf,Nf,Hf,jf,qf,zf,Wf,Vf,$f,Gf,Xf,Kf,Jf,Qf,Zf,eh,th,nh,ch,ah,ih,oh,rh,dh,lh,sh,uh,ph,mh,fh,hh,gh,vh,bh,yh,wh,Ch,Sh,xh,kh,Eh,Th,Ah,Ih,Oh,Rh,Lh,Dh,Ph,Mh,Fh,Bh,Uh,Nh,Hh,jh,qh,zh,Wh,Vh,$h,Gh,Xh,Kh,Jh,Qh,Zh,eg,tg,ng,cg,ag,ig,og,rg,dg,lg,sg,ug,pg,mg,fg,hg,gg,vg,bg,yg,wg,Cg,Sg,xg,kg,Eg,Tg,Ag,Ig,Og,Rg,Lg,Dg,Pg,Mg,Fg,Bg,Ug,Ng,Hg,jg,qg,zg,Wg,Vg,$g,Gg,Xg,Kg,Jg,Qg,Zg,ev,tv,nv,cv,av,iv,ov,rv,dv,lv,sv,uv,pv,mv,fv,hv,gv,vv,bv,yv,wv,Cv,Sv,xv,kv,Ev,Tv,Av,Iv,Ov,Rv,Lv,Dv,Pv,Mv,Fv,Bv,Uv,Nv,Hv,jv,qv,zv,Wv,Vv,$v,Gv,Xv,Kv,Jv,Qv,Zv,eb,tb,nb,cb,ab,ib,ob,rb,db,lb,sb,ub,pb,mb,fb,hb,gb,vb,bb,yb,wb,Cb,Sb,xb,kb,Eb,Tb,Ab,Ib,Ob,Rb,Lb,Db,Pb,Mb,Fb,Bb,Ub,Nb,Hb,jb,qb,zb,Wb,Vb,$b,Gb,Xb,Kb,Jb,Qb,Zb,ey,ty,ny,cy,ay,iy,oy,ry,dy,ly,sy,uy,py,my,fy,hy,gy,vy,by,yy,wy,Cy,Sy,xy,ky,Ey,Ty,Ay,Iy,Oy,Ry,Ly,Dy,Py,My,Fy,By,Uy,Ny,Hy,jy,qy,zy,Wy,Vy,$y,Gy,Xy,Ky,Jy,Qy,Zy,ew,tw,nw,cw,aw,iw,ow,rw,dw,lw,sw,uw,pw,mw,fw,hw,gw,vw,bw,yw,ww,Cw,Sw,xw,kw,Ew,Tw,Aw,Iw,Ow,Rw,Lw,Dw,Pw,Mw,Fw,Bw,Uw,Nw,Hw,jw,qw,zw,Ww,Vw,$w,Gw,Xw,Kw,Jw,Qw,Zw,eC,tC,nC,cC,aC,iC,oC,rC,dC,lC,sC,uC,pC,mC,fC,hC,gC,vC,bC,yC,wC,CC,SC,xC,kC,EC,TC,AC,IC,OC,RC,LC,DC,PC,MC,FC,BC,UC,NC,HC,jC,qC,zC,WC,VC,$C,GC,XC,KC,JC,QC,ZC,eS,tS,nS,cS,aS,iS,oS,rS,dS,lS,sS,uS,pS,mS,fS,hS,gS,vS,bS,yS,wS,CS,SS,xS,kS,ES,TS,AS,IS,OS,RS,LS,DS,PS,MS,FS,BS,US,NS,HS,jS,qS,zS,WS,VS,$S,GS,XS,KS,JS,QS,ZS,ex,tx,nx,cx,ax,ix,ox,rx,dx,lx,sx,ux,px,mx,fx,hx,gx,vx,bx,yx,wx,Cx,Sx,xx,kx,Ex,Tx,Ax,Ix,Ox,Rx,Lx,Dx,Px,Mx,Fx,Bx,Ux,Nx,Hx,jx,qx,zx,Wx,Vx,$x,Gx,Xx,Kx,Jx,Qx,Zx,ek,tk,nk,ck,ak,ik,ok,rk,dk,lk,sk,uk,pk,mk,fk,hk,gk,vk,bk,yk,wk,Ck,Sk,xk,kk,Ek,Tk,Ak,Ik,Ok,Rk,Lk,Dk,Pk,Mk,Fk,Bk,Uk,Nk,Hk,jk,qk,zk,Wk,Vk,$k,Gk,Xk,Kk,Jk,Qk,Zk,eE,tE,nE,cE,aE,iE,oE,rE,dE,lE,sE,uE,pE,mE,fE,hE,gE,vE,bE,yE,wE,CE,SE,xE,kE,EE,TE,AE,IE,OE,RE,LE,DE,PE,ME,FE,BE,UE,NE,HE,jE,qE,zE,WE,VE,$E,GE,XE,KE,JE,QE,ZE,eT,tT,nT,cT,aT,iT,oT,rT,dT,lT,sT,uT,pT,mT,fT,hT,gT,vT,bT,yT,wT,CT,ST,xT,kT,ET,TT,AT,IT,OT,RT,LT,DT,PT,MT,FT,BT,UT,NT,HT,jT,qT,zT,WT,VT,$T,GT,XT,KT,JT,QT,ZT,eA,tA,nA,cA,aA,iA,oA,rA,dA,lA,sA,uA,pA,mA,fA,hA,gA,vA,bA,yA,wA,CA,SA,xA,kA,EA,TA,AA,IA,OA,RA,LA,DA,PA,MA,FA,BA,UA,NA,HA,jA,qA,zA,WA,VA,$A,GA,XA,KA,JA,QA,ZA,eI,tI,nI,cI,aI,iI,oI,rI,dI,lI,sI,uI,pI,mI,fI,hI,gI,vI,bI,yI,wI,CI,SI,xI,kI,EI,TI,AI,II,OI,RI,LI,DI,PI,MI,FI,BI,UI,NI,HI,jI,qI,zI,WI,VI,$I,GI,XI,KI,JI,QI,ZI,eO,tO,nO,cO,aO,iO,oO,rO,dO,lO,sO,uO,pO,mO,fO,hO,gO,vO,bO,yO,wO,CO,SO,xO,kO,EO,TO,AO,IO,OO,RO,LO,DO,PO,MO,FO,BO,UO,NO,HO,jO,qO,zO,WO,VO,$O,GO,XO,KO,JO,QO,ZO,eR,tR,nR,cR,aR,iR,oR,rR,dR,lR,sR,uR,pR,mR,fR,hR,gR,vR,bR,yR,wR,CR,SR,xR,kR,ER,TR,AR,IR,OR,RR,LR,DR,PR,MR,FR,BR,UR,NR,HR,jR,qR,zR,WR,VR,$R,GR,XR,KR,JR,QR,ZR,eL,tL,nL,cL,aL,iL,oL,rL,dL,lL,sL,uL,pL,mL,fL,hL,gL,vL,bL,yL,wL,CL,SL,xL,kL,EL,TL,AL,IL,OL,RL,LL,DL,PL,ML,FL,BL,UL,NL,HL,jL,qL,zL,WL,VL,$L,GL,XL,KL,JL,QL,ZL,eD,tD,nD,cD,aD,iD,oD,rD,dD,lD,sD,uD,pD,mD,fD,hD,gD,vD,bD,yD,wD,CD,SD,xD,kD,ED,TD,AD,ID,OD,RD,LD,DD,PD,MD,FD,BD,UD,ND,HD,jD,qD,zD,WD,VD,$D,GD,XD,KD,JD,QD,ZD,eP,tP,nP,cP,aP,iP,oP,rP,dP,lP,sP,uP,pP,mP,fP,hP,gP,vP,bP,yP,wP,CP,SP,xP,kP,EP,TP,AP,IP,OP,RP,LP,DP,PP,MP,FP,BP,UP,NP,HP,jP,qP,zP,WP,VP,$P,GP,XP,KP,JP,QP,ZP,eM,tM,nM,cM,aM,iM,oM,rM,dM,lM,sM,uM,pM,mM,fM,hM,gM,vM,bM,yM,wM,CM,SM,xM,kM,EM,TM,AM,IM,OM,RM,LM,DM,PM,MM,FM,BM,UM,NM,HM,jM,qM,zM,WM,VM,$M,GM,XM,KM,JM,QM,ZM,eF,tF,nF,cF,aF,iF,oF,rF,dF,lF,sF,uF,pF,mF,fF,hF,gF,vF,bF,yF,wF,CF,SF,xF,kF,EF,TF,AF,IF,OF,RF,LF,DF,PF,MF,FF,BF,UF,NF,HF,jF,qF,zF,WF,VF,$F,GF,XF,KF,JF,QF,ZF,eB,tB,nB,cB,aB,iB,oB,rB,dB,lB,sB,uB,pB,mB,fB,hB,gB,vB,bB,yB,wB,CB,SB,xB,kB,EB,TB,AB,IB,OB,RB,LB,DB,PB,MB,FB,BB,UB,NB,HB,jB,qB,zB,WB,VB,$B,GB,XB,KB,JB,QB,ZB,eU,tU,nU,cU,aU,iU,oU,rU,dU,lU,sU,uU,pU,mU,fU,hU,gU,vU,bU,yU,wU,CU,SU,xU,kU,EU,TU,AU,IU,OU,RU,LU,DU,PU,MU,FU,BU,UU,NU,HU,jU,qU,zU,WU,VU,$U,GU,XU,KU,JU,QU,ZU,eN,tN,nN,cN,aN,iN,oN,rN,dN,lN,sN,uN,pN,mN,fN,hN,gN,vN,bN,yN,wN,CN,SN,xN,kN,EN,TN,AN,IN,ON,RN,LN,DN,PN,MN,FN,BN,UN,NN,HN,jN,qN,zN,WN,VN,$N,GN,XN,KN,JN,QN,ZN,eH,tH,nH,cH,aH,iH,oH,rH,dH,lH,sH,uH,pH,mH,fH,hH,gH,vH,bH,yH,wH,CH,SH,xH,kH,EH,TH,AH,IH,OH,RH,LH,DH,PH,MH,FH,BH,UH,NH,HH,jH,qH,zH,WH,VH,$H,GH,XH,KH,JH,QH,ZH,ej,tj,nj,cj,aj,ij,oj,rj,dj,lj,sj,uj,pj,mj,fj,hj,gj,vj,bj,yj,wj,Cj,Sj,xj,kj,Ej,Tj,Aj,Ij,Oj,Rj,Lj,Dj,Pj,Mj,Fj,Bj,Uj,Nj,Hj,jj,qj,zj,Wj,Vj,$j,Gj,Xj,Kj,Jj,Qj,Zj,eq,tq,nq,cq,aq,iq,oq,rq,dq,lq,sq,uq,pq,mq,fq,hq,gq,vq,bq,yq,wq,Cq,Sq,xq,kq,Eq,Tq,Aq,Iq,Oq,Rq,Lq,Dq,Pq,Mq,Fq,Bq,Uq,Nq,Hq,jq,qq,zq,Wq,Vq,$q,Gq,Xq,Kq,Jq,Qq,Zq,ez,tz,nz,cz,az,iz,oz,rz,dz,lz,sz,uz,pz,mz,fz,hz,gz,vz,bz,yz,wz,Cz,Sz,xz,kz,Ez,Tz,Az,Iz,Oz,Rz,Lz,Dz,Pz,Mz,Fz,Bz,Uz,Nz,Hz,jz,qz,zz,Wz,Vz,$z,Gz,Xz,Kz,Jz,Qz,Zz,eW,tW,nW,cW,aW,iW,oW,rW,dW,lW,sW,uW,pW,mW,fW,hW,gW,vW,bW,yW,wW,CW,SW,xW,kW,EW,TW,AW,IW,OW,RW,LW,DW,PW,MW,FW,BW,UW,NW,HW,jW,qW,zW,WW,VW,$W,GW,XW,KW,JW,QW,ZW,eV,tV,nV,cV,aV,iV,oV,rV,dV,lV,sV,uV,pV,mV,fV,hV,gV,vV,bV,yV,wV,CV,SV,xV,kV,EV,TV,AV,IV,OV,RV,LV,DV,PV,MV,FV,BV,UV,NV,HV,jV,qV,zV,WV,VV,$V,GV,XV,KV,JV,QV,ZV,e$,t$,n$,c$,a$,i$,o$,r$,d$,l$,s$,u$,p$,m$,f$,h$,g$,v$,b$,y$,w$,C$,S$,x$,k$,E$,T$,A$,I$,O$,R$,L$,D$,P$,M$,F$,B$,U$,N$,H$,j$,q$,z$,W$,V$,$$,G$,X$,K$,J$,Q$,Z$,eG,tG,nG,cG,aG,iG,oG,rG,dG,lG,sG,uG,pG,mG,fG,hG,gG,vG,bG,yG,wG,CG,SG,xG,kG,EG,TG,AG,IG,OG,RG,LG,DG,PG,MG,FG,BG,UG,NG,HG,jG,qG,zG,WG,VG,$G,GG,XG,KG,JG,QG,ZG,eX,tX,nX,cX,aX,iX,oX,rX,dX,lX,sX,uX,pX,mX,fX,hX,gX,vX,bX,yX,wX,CX,SX,xX,kX,EX,TX,AX,IX,OX,RX,LX,DX,PX,MX,FX,BX,UX,NX,HX,jX,qX,zX,WX,VX,$X,GX,XX,KX,JX,QX,ZX,eK,tK,nK,cK,aK,iK,oK,rK,dK,lK,sK,uK,pK,mK,fK,hK,gK,vK,bK,yK,wK,CK,SK,xK,kK,EK,TK,AK,IK,OK,RK,LK,DK,PK,MK,FK,BK,UK,NK,HK,jK,qK,zK,WK,VK,$K,GK,XK,KK,JK,QK,ZK,eJ,tJ,nJ,cJ,aJ,iJ,oJ,rJ,dJ,lJ,sJ,uJ,pJ,mJ,fJ,hJ,gJ,vJ,bJ,yJ,wJ,CJ,SJ,xJ,kJ,EJ,TJ,AJ,IJ,OJ,RJ,LJ,DJ,PJ,MJ,FJ,BJ,UJ,NJ,HJ,jJ,qJ,zJ,WJ,VJ,$J,GJ,XJ,KJ,JJ,QJ,ZJ,eQ,tQ,nQ,cQ,aQ,iQ,oQ,rQ,dQ,lQ,sQ,uQ,pQ,mQ,fQ,hQ,gQ,vQ,bQ,yQ,wQ,CQ,SQ,xQ,kQ,EQ,TQ,AQ,IQ,OQ,RQ,LQ,DQ,PQ,MQ,FQ,BQ,UQ,NQ,HQ,jQ,qQ,zQ,WQ,VQ,$Q,GQ,XQ,KQ,JQ,QQ,ZQ,eZ,tZ,nZ,cZ,aZ,iZ,oZ,rZ,dZ,lZ,sZ,uZ,pZ,mZ,fZ,hZ,gZ,vZ,bZ,yZ,wZ,CZ,SZ,xZ,kZ,EZ,TZ,AZ,IZ,OZ,RZ,LZ,DZ,PZ,MZ,FZ,BZ,UZ,NZ,HZ,jZ,qZ,zZ,WZ,VZ,$Z,GZ,XZ,KZ,JZ,QZ,ZZ,e0,t0,n0,c0,a0,i0,o0,r0,d0,l0,s0,u0,p0,m0,f0,h0,g0,v0,b0,y0,w0,C0,S0,x0,k0,E0,T0,A0,I0,O0,R0,L0,D0,P0,M0,F0,B0,U0,N0,H0,j0,q0,z0,W0,V0,$0,G0,X0,K0,J0,Q0,Z0,e1,t1,n1,c1,a1,i1,o1,r1,d1,l1,s1,u1,p1,m1,f1,h1,g1,v1,b1,y1,w1,C1,S1,x1,k1,E1,T1,A1,I1,O1,R1,L1,D1,P1,M1,F1,B1,U1,N1,H1,j1,q1,z1,W1,V1,$1,G1,X1,K1,J1,Q1,Z1,e2,t2,n2,c2,a2,i2,o2,r2,d2,l2,s2,u2,p2,m2,f2,h2,g2,v2,b2,y2,w2,C2,S2,x2,k2,E2,T2,A2,I2,O2,R2,L2,D2,P2,M2,F2,B2,U2,N2,H2,j2,q2,z2,W2,V2,$2,G2,X2,K2,J2,Q2,Z2,e3,t3,n3,c3,a3,i3,o3,r3,d3,l3,s3,u3,p3,m3,f3,h3,g3,v3,b3,y3,w3,C3,S3,x3,k3,E3,T3,A3,I3,O3,R3,L3,D3,P3,M3,F3,B3,U3,N3,H3,j3,q3,z3,W3,V3,$3,G3,X3,K3,J3,Q3,Z3,e4,t4,n4,c4,a4,i4,o4,r4,d4,l4,s4,u4,p4,m4,f4,h4,g4,v4,b4,y4,w4,C4,S4,x4,k4,E4,T4,A4,I4,O4,R4,L4,D4,P4,M4,F4,B4,U4,N4,H4,j4,q4,z4,W4,V4,$4,G4,X4,K4,J4,Q4,Z4,e5,t5,n5,c5,a5,i5,o5,r5,d5,l5,s5,u5,p5,m5,f5,h5,g5,v5,b5,y5,w5,C5,S5,x5,k5,E5,T5,A5,I5,O5,R5,L5,D5,P5,M5,F5,B5,U5,N5,H5,j5,q5,z5,W5,V5,$5,G5,X5,K5,J5,Q5,Z5,e6,t6,n6,c6,a6,i6,o6,r6,d6,l6,s6,u6,p6,m6,f6,h6,g6,v6,b6,y6,w6,C6,S6,x6,k6,E6,T6,A6,I6,O6,R6,L6,D6,P6,M6,F6,B6,U6,N6,H6,j6,q6,z6,W6,V6,$6,G6,X6,K6,J6,Q6,Z6,e7,t7,n7,c7,a7,i7,o7,r7,d7,l7,s7,u7,p7,m7,f7,h7,g7,v7,b7,y7,w7,C7,S7,x7,k7,E7,T7,A7,I7,O7,R7,L7,D7,P7,M7,F7,B7,U7,N7,H7,j7,q7,z7,W7,V7,$7,G7,X7,K7,J7,Q7,Z7,e8,t8,n8,c8,a8,i8,o8,r8,d8,l8,s8,u8,p8,m8,f8,h8,g8,v8,b8,y8,w8,C8,S8,x8,k8,E8,T8,A8,I8,O8,R8,L8,D8,P8,M8,F8,B8,U8,N8,H8,j8,q8,z8,W8,V8,$8,G8,X8,K8,J8,Q8,Z8,e9,t9,n9,c9,a9,i9,o9,r9,d9,l9,s9,u9,p9,m9,f9,h9,g9,v9,b9,y9,w9,C9,S9,x9,k9,E9,T9,A9,I9,O9,R9,L9,D9,P9,M9,F9,B9,U9,N9,H9,j9,q9,z9,W9,V9,$9,G9,X9,K9,J9,Q9,Z9;!function(){function e(e){e.preventDefault(),e.stopPropagation()}function t(){n.classList.add("highlight")}function c(){n.classList.remove("highlight")}function a(e){o.innerHTML="";var t=i.value.trim();if(!t)return void r("请先输入玩家ID(p≧w≦q)");var c=Array.from(e).filter(function(e){return"image/png"===e.type});if(0===c.length)return void r("请选择PNG格式的皮肤文件(p≧w≦q)");var a=c.filter(function(e){return e.size>10*1024});if(a.length>0)return void r('文件 "'+a[0].name+'" 超过10KB限制(p≧w≦q)');var u=c[0],p=new Image;p.onload=function(){if(64!==this.width||64!==this.height)return void r("皮肤图片尺寸必须是64x64像素(p≧w≦q)");var e=document.createElement("div");e.className="skin-file-item",e.innerHTML='<div class="skin-file-info"><span class="skin-file-icon">📄</span><span>'+u.name+" ("+l(u.size)+')</span></div><span class="skin-file-status skin-status-pending">等待验证</span>',o.appendChild(e),d=c,s=t,f()},p.onerror=function(){r("无法读取图片文件(p≧w≦q)")},p.src=URL.createObjectURL(u)}function i(){h(),u()}function o(){h(),u()}function r(e){m.textContent=e,m.style.color="#dc3545",g.style.display="block"}function l(e){if(0===e)return"0 Bytes";var t=1024,n=["Bytes","KB","MB","GB"],c=Math.floor(Math.log(e)/Math.log(t));return parseFloat((e/Math.pow(t,c)).toFixed(2))+" "+n[c]}function s(){h(),u()}function u(){h(),p()}function p(){v=!0,b.disabled=!0,y(),w("正在验证...");var e=function(){var e=!1;return function(){e||(e=!0,fetch("https://api.azsu.top/5001/captcha?captcha_token="+C+"&selected_cells="+JSON.stringify(S)).then(function(t){return t.json()}).then(function(t){if(16102===t.code)return x(t.message||"token无效或已超时"),void y();if(16002===t.code)return h(),setTimeout(function(){k(),T(C),setTimeout(function(){E(),A(d[0],s)},1e3)},10),void 0;if(16001===t.code||10000===t.code)if("success"===t.data.status)h(),setTimeout(function(){k(),T(C),setTimeout(function(){E(),A(d[0],s)},1e3)},10);else if("processing"===t.data.status){w("正在加载验证图片..."),t.data.image_base64&&(I.src="data:image/jpeg;base64,"+t.data.image_base64,I.style.display="block",O()),t.data.cueword&&(R.textContent=t.data.cueword),E(),y()}else("fail"===t.data.status||!t.data.status)&&(x(t.message||"验证失败"),y());else x("验证失败: "+t.message),y()}).catch(function(e){x("验证请求失败: "+e.message),y()}).finally(function(){v=!1}))}}();e()}function m(){h(),E(),d=null,s="",o.innerHTML=""}function f(){h(),u()}function h(){_.style.display="block",$.style.display="block"}function g(){_.style.display="none",$.style.display="none"}function v(e){e?$.classList.add("captcha-loading"):$.classList.remove("captcha-loading"),v=e}function b(){X.style.display="block",setTimeout(function(){X.style.display="none"},1e3)}function y(e){K.textContent=e,K.style.display="block"}function w(){K.style.display="none"}function C(e){localStorage.setItem("captcha_token",e),localStorage.setItem("captcha_token_expires",(Math.floor(Date.now()/1e3)+240).toString())}function S(){localStorage.removeItem("captcha_token"),localStorage.removeItem("captcha_token_expires")}function x(e){J.textContent=e,Q.style.display="block",setTimeout(function(){Q.style.display="none"},3e3)}function k(){v=!0,b.disabled=!0,y("正在初始化..."),S(),fetch("https://api.azsu.top/5002/captcha/get_token").then(function(e){return e.json()}).then(function(e){if(10000===e.code){C=e.data.captcha_token,y("正在加载验证图片..."),M()}else x("获取验证令牌失败: "+e.message),v=!1,g()}).catch(function(e){x("初始化验证失败: "+e.message),v=!1,g()})}function E(){S=[],document.querySelectorAll(".captcha-grid-cell.selected").forEach(function(e){e.classList.remove("selected")}),b.disabled=!0}function T(e,t){g.style.display="block",m.textContent="准备上传...",m.style.color="",u.value=0;var n=new FormData;n.append("file",e),n.append("player_id",t),n.append("captcha_token",C);var c=new XMLHttpRequest;c.open("POST","https://api.azsu.top:5003/skin/upload",!0),c.setRequestHeader("Accept","application/json"),c.upload.onprogress=function(e){if(e.lengthComputable){var t=Math.round(e.loaded/e.total*100);u.value=t,m.textContent="上传中: "+t+"%";var n=document.querySelector(".skin-file-item");n.querySelector(".skin-file-status").textContent=t+"%",n.querySelector(".skin-file-status").className="skin-file-status skin-status-pending"}},c.onload=function(){var e=document.querySelector(".skin-file-item");if(200===c.status||400===c.status)try{var t=JSON.parse(c.responseText);14000===t.code?(m.textContent="文件上传成功(p≧w≦q)",m.style.color="#28a745",u.value=100,A(e,"上传成功","success"),N(e,t)):(m.textContent=t.message||"上传失败",m.style.color="#dc3545",A(e,t.message||"上传失败","error"))}catch(e){console.log("服务器响应解析异常:",e),m.textContent="服务器响应异常",m.style.color="#dc3545",A(e,"服务器异常","error")}else m.textContent="上传失败 ("+c.status+")",m.style.color="#dc3545",A(e,"失败: "+c.status,"error");a.value="",d=null,s=""},c.onerror=function(){m.textContent="网络错误(p≧w≦q)",m.style.color="#dc3545";var e=document.querySelector(".skin-file-item");A(e,"网络错误","error"),a.value="",d=null,s=""},c.send(n)}function A(e,t,n){var c=e.querySelector(".skin-file-status");c.textContent=t,c.className="skin-file-status skin-status-"+n}function I(e,t){var n=document.createElement("a");n.href="https://api.azsu.top/skin/file?player="+t,n.textContent="查看皮肤",n.className="skin-preview-link",n.target="_blank",e.appendChild(n)}function O(){fetch("https://api.azsu.top/5001/captcha?captcha_token="+C).then(function(e){return e.json()}).then(function(e){(16001===e.code||10000===e.code)&&(e.data.image_base64&&(R.src="data:image/jpeg;base64,"+e.data.image_base64,R.style.display="block",w()),e.data.cueword&&(L.textContent=e.data.cueword),v(!1),("fail"===e.data.status||!e.data.status)&&(x(e.message||"验证失败"),v(!1),g()))}).catch(function(e){x("加载验证图片失败: "+e.message),v(!1),g()})}var R=document.getElementById("captchaImage"),L=document.getElementById("cueword"),D=document.getElementById("captchaCenterMessage"),P=document.getElementById("captchaSuccessMessage"),M=document.getElementById("captchaErrorMessage"),F=document.getElementById("captchaErrorText"),B=document.getElementById("captchaOverlay"),U=document.getElementById("captchaCard"),N=document.getElementById("captchaGridOverlay"),H=document.getElementById("captchaSubmitBtn"),j=document.getElementById("captchaCancelBtn"),q=document.getElementById("captchaCloseBtn"),z=document.getElementById("dropArea"),W=document.getElementById("fileInput"),V=document.getElementById("selectBtn"),$=document.getElementById("progressContainer"),G=document.getElementById("uploadProgress"),X=document.getElementById("statusText"),K=document.getElementById("fileList"),J=document.getElementById("playerId"),Q=document.getElementById("captchaErrorMessage"),Z=document.getElementById("captchaErrorText"),ee=document.getElementById("captchaSuccessMessage"),te=!1,ne=[],ce="",ae=null,ie="";for(var oe=0;oe<16;oe++){var re=document.createElement("div");re.className="captcha-grid-cell",re.dataset.index=oe,re.addEventListener("click",function(){if(!te){this.classList.toggle("selected");var e=parseInt(this.dataset.index);this.classList.contains("selected")?ne.includes(e)||ne.push(e):ne=ne.filter(function(t){return t!==e}),H.disabled=0===ne.length}}),N.appendChild(re)}["dragenter","dragover","dragleave","drop"].forEach(function(t){z.addEventListener(t,e,!1),document.body.addEventListener(t,e,!1)}),["dragenter","dragover"].forEach(function(e){z.addEventListener(e,t,!1)}),["dragleave","drop"].forEach(function(e){z.addEventListener(e,c,!1)}),z.addEventListener("drop",function(e){var t=e.dataTransfer,n=t.files;a(n)},!1),V.addEventListener("click",function(){W.click()}),W.addEventListener("change",function(){a(W.files)}),H.addEventListener("click",u),j.addEventListener("click",m),q.addEventListener("click",f)}();</script>
</body>
</html>